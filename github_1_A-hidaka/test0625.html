<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼åŠ¹æœã‚µãƒ³ãƒ—ãƒ«ã¨ç”»åƒæ¯”è¼ƒ</title>
    <!--cssã®å†…éƒ¨å‚ç…§ï¼šãƒ˜ãƒƒãƒ€åŸ‹è¾¼-->
    <style>  /*ç”»é¢ã«å¯¾ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«*/

    div
    {
        width: 320px;
        height:auto;
        float: left;
        margin: 3px;
        position: relative;
        border: #ddd 3px solid;
    }

    img{
        width:100%;
        height: auto;
    }

    .original img{
        filter: none;
    }
    .blurA img{
        filter:blur(5px);
    }
    .blurB img{
        filter:blur(10px);
    }
    .blurC img{
        filter:blur(30px);
    }
    .brightnessA img{
        filter:brightness(10%);
    }
    .brightnessB img{
        filter:brightness(50%);
    }
    .brightnessC img{
        filter:brightness(200%);
    }
    .contrastA img{
        filter:contrast(0%);
    }
    .contrastB img{
        filter:contrast(50%);
    }
    .contrastC img{
        filter:contrast(200%);
    }
    /*drop-shadow(offsetX offsetY blur color)*/
    .drop-shadowA img{
        filter:drop-shadow(10px 0px 0px red);
    }
    .drop-shadowB img{
        filter:drop-shadow(10px 10px 0px blue);
    }
    .drop-shadowC img{
        filter:drop-shadow(-10px -10px 10px black);
    }
    .grayscaleA img{
        filter:grayscale(50%);
    }
    .grayscaleB img{
        filter:grayscale(100%);
    }
    .grayscaleC img{
        filter:grayscale(200%);
    }
    .hue-rotateA img{
        filter:hue-rotate(90deg);
    }
    .hue-rotateB img{
        filter:hue-rotate(180deg);
    }
    .hue-rotateC img{
        filter:hue-rotate(270deg);
    }
    .invertA img{
        filter:invert(50%);
    }
    .invertB img{
        filter:invert(100%);
    }
    .invertC img{
        filter:invert(200%);
    }
    .saturateA img{
        filter:saturate(0%);
    }.saturateB img{
        filter:saturate(50%);
    }.saturateC img{
        filter:saturate(200%);
    }
    .opacityA img{
        filter:opacity(10%);
    }
    .opacityB img{
        filter:opacity(50%);
    }.opacityC img{
        filter:opacity(200%);
    }
    .sepiaA img{
        filter:sepia(50%);
    }
    .sepiaB img{
        filter:sepia(100%);
    }.sepiaC img{
        filter:sepia(200%);
    }

    </style>
    <style>
        /* ç”»åƒæ¯”è¼ƒç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .compare-container {
            position: relative;
            width: 80%;
            max-width: 800px;
            margin: 40px auto;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
        }
        
        .compare-container img {
            display: block;
            width: 100%;
            height: auto;
        }
        
        .img-comp-container {
            position: relative;
            height: 500px; /* é©å®œèª¿æ•´ã—ã¦ãã ã•ã„ */
            overflow: hidden;
        }
        
        .img-comp-img {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        
        .img-comp-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .img-comp-slider {
            position: absolute;
            z-index: 9;
            cursor: ew-resize;
            width: 40px;
            height: 40px;
            background-color: #2196F3;
            opacity: 0.7;
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
            left: 50%;
            margin-left: -20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .img-comp-slider:before,
        .img-comp-slider:after {
            content: '';
            position: absolute;
            width: 2px;
            height: 20px;
            background-color: white;
        }
        
        .img-comp-slider:before {
            left: 8px;
        }
        
        .img-comp-slider:after {
            right: 8px;
        }
        
        .compare-controls {
            text-align: center;
            margin: 20px 0;
        }
        
        .compare-btn {
            padding: 10px 20px;
            margin: 0 10px;
            background-color: #2196F3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .compare-btn:hover {
            background-color: #0b7dda;
        }
    </style>
</head>

<body>
    <div class="compare-container">
        <h2 style="text-align: center;">ç”»åƒæ¯”è¼ƒãƒ„ãƒ¼ãƒ«</h2>
        <div class="img-comp-container">
            <div class="img-comp-img">
                <img id="originalImage" src="image/test_bg.png" alt="ã‚ªãƒªã‚¸ãƒŠãƒ«ç”»åƒ">
            </div>
            <div class="img-comp-img" style="width: 50%;">
                <img id="filteredImage" src="image/test_bg.png" alt="ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼é©ç”¨å¾Œ">
            </div>
            <div class="img-comp-slider" id="slider">â†”</div>
        </div>
        <div class="compare-controls">
            <button class="compare-btn" onclick="applyFilter('none')">ãƒªã‚»ãƒƒãƒˆ</button>
            <button class="compare-btn" onclick="applyFilter('grayscale(100%)')">ãƒ¢ãƒã‚¯ãƒ­</button>
            <button class="compare-btn" onclick="applyFilter('sepia(100%)')">ã‚»ãƒ”ã‚¢</button>
            <button class="compare-btn" onclick="applyFilter('hue-rotate(90deg)')">è‰²ç›¸å¤‰æ›´</button>
            <input type="file" id="imageUpload" accept="image/*" style="display: none;">
            <button class="compare-btn" onclick="document.getElementById('imageUpload').click()">ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</button>
        </div>
    </div>

    <!--ç”»åƒã®è¡¨ç¤º-->
    <div class="original">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"original"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚¬ã‚¦ã‚·ã‚¢ãƒ³ã¼ã‹ã— : blur(0px)<br>
    </div>

    <div class="blurA">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚¬ã‚¦ã‚·ã‚¢ãƒ³ã¼ã‹ã— : blur(5px)<br>
    </div>

    <div class="blurB">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚¬ã‚¦ã‚·ã‚¢ãƒ³ã¼ã‹ã— : blur(10px)<br>
    </div>
    
    <div class="blurC">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚¬ã‚¦ã‚·ã‚¢ãƒ³ã¼ã‹ã— : blur(30px)<br>
    </div>

    <div class="original">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"original"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    æ˜ã‚‹ã• : brightness(100%)<br>
    </div>

    <div class="brightnessA">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    æ˜ã‚‹ã• : brightness(10%)<br>
    </div>

    <div class="brightnessB">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    æ˜ã‚‹ã• : brightness(50%)<br>
    </div>
    
    <div class="brightnessC">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    æ˜ã‚‹ã• : brightness(200%)<br>
    </div>

    <div class="original">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"original"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ : contrast(100%)<br>
    </div>

    <div class="contrastA">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ : contrast(0%)<br>
    </div>

    <div class="contrastB">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ : contrast(50%)<br>
    </div>
    
    <div class="contrastC">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ : contrast(200%)<br>
    </div>

    <div class="original">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"original"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ : drop-shadow(0px 0px 0px)<br>
    </div>

    <div class="drop-shadowA">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ãƒ‰ãƒ­ãƒƒãƒ—ã‚·ãƒ£ãƒ‰ã‚¦ : drop-shadow(10px 0px 0px red)<br>
    </div>

    <div class="drop-shadowB">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ãƒ‰ãƒ­ãƒƒãƒ—ã‚·ãƒ£ãƒ‰ã‚¦ : drop-shadow(10px 10px 0px blue)<br>
    </div>
    
    <div class="drop-shadowC">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"blur"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ãƒ‰ãƒ­ãƒƒãƒ—ã‚·ãƒ£ãƒ‰ã‚¦ : drop-shadow(-10px -10px 10px black)<br>
    </div>

    <div class="original">  <!--cssã§ã®ã‚¯ãƒ©ã‚¹å"original"-->
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ« : grayscale(0%)<br>
    </div>

    <div class="grayscaleA">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ« : grayscale(50%)<br>
    </div>

    <div class="grayscaleB">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ« : grayscale(100%)<br>
    </div>
    
    <div class="grayscaleC">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ« : grayscale(200%)<br>
    </div>

    <div class="original">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    è‰²ç›¸ : hue-rotate(0deg)<br>
    </div>

    <div class="hue-rotateA">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    è‰²ç›¸ : hue-rotate(90deg)<br>
    </div>

    <div class="hue-rotateB">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    è‰²ç›¸ : hue-rotate(180deg)<br>
    </div>
    
    <div class="hue-rotateC">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    è‰²ç›¸ : hue-rotate(180deg)<br>
    </div>

    <div class="original">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    åè»¢ : invert(0%)<br>
    </div>

    <div class="invertA">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    åè»¢ : invert(50%)<br>
    </div>

    <div class="invertB">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    åè»¢ : invert(100%)<br>
    </div>
    <div class="invertC">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    åè»¢ : invert(200%)<br>
    </div>

    <div class="original">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    åŠé€æ˜ : invert(100%)<br>
    </div>

    <div class="opacityA">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    åŠé€æ˜ : opacity(10%)<br>
    </div>

    <div class="opacityB">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    åŠé€æ˜ : opacity(50%)<br>
    </div>
    <div class="opacityC">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    åŠé€æ˜ : opacity(200%)<br>
    </div>

    <div class="original">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    å½©åº¦ : saturate(100%)<br>
    </div>

    <div class="saturateA">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    å½©åº¦ : saturate(0%)<br>
    </div>

    <div class="saturateB">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    å½©åº¦ : saturate(50%)<br>
    </div>
    <div class="saturateC">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    å½©åº¦ : saturate(200%)<br>
    </div>

    <div class="original">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚»ãƒ”ã‚¢ : sepia(0%)<br>
    </div>

    <div class="sepiaA">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚»ãƒ”ã‚¢ : sepia(50%)<br>
    </div>

    <div class="sepiaB">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚»ãƒ”ã‚¢ : sepia(100%)<br>
    </div>
    <div class="sepiaC">
    <img src="image/test_bg.png" style="width: 300px; height: auto;"><br>
    ã‚»ãƒ”ã‚¢ : sepia(200%)<br>
    </div>



    <script>
        // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®æ©Ÿèƒ½
        const slider = document.getElementById('slider');
        const container = document.querySelector('.img-comp-container');
        const filteredImg = document.querySelector('.img-comp-img:last-child');
        let isDragging = false;
        
        // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹
        slider.addEventListener('mousedown', (e) => {
            isDragging = true;
            e.preventDefault();
        });
        
        // ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®å‡¦ç†
        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            
            const containerRect = container.getBoundingClientRect();
            let x = e.clientX - containerRect.left;
            
            // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®ä½ç½®ã‚’åˆ¶é™
            x = Math.min(containerRect.width - 10, Math.max(10, x));
            
            // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã¨ç”»åƒã®ä½ç½®ã‚’æ›´æ–°
            const percent = (x / containerRect.width) * 100;
            filteredImg.style.width = `${100 - percent}%`;
            slider.style.left = `${percent}%`;
            slider.style.marginLeft = '-20px';
        });
        
        // ãƒ‰ãƒ©ãƒƒã‚°çµ‚äº†
        document.addEventListener('mouseup', () => {
            isDragging = false;
        });
        
        // ã‚¿ãƒƒãƒå¯¾å¿œ
        slider.addEventListener('touchstart', (e) => {
            isDragging = true;
            e.preventDefault();
        });
        
        document.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            
            const containerRect = container.getBoundingClientRect();
            let x = e.touches[0].clientX - containerRect.left;
            
            // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®ä½ç½®ã‚’åˆ¶é™
            x = Math.min(containerRect.width - 10, Math.max(10, x));
            
            // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã¨ç”»åƒã®ä½ç½®ã‚’æ›´æ–°
            const percent = (x / containerRect.width) * 100;
            filteredImg.style.width = `${100 - percent}%`;
            slider.style.left = `${percent}%`;
            slider.style.marginLeft = '-20px';
        });
        
        document.addEventListener('touchend', () => {
            isDragging = false;
        });
        
        // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é©ç”¨ã™ã‚‹é–¢æ•°
        function applyFilter(filter) {
            const filteredImage = document.getElementById('filteredImage');
            filteredImage.style.filter = filter;
        }
        
        // ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®å‡¦ç†
        document.getElementById('imageUpload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(event) {
                const img = new Image();
                img.onload = function() {
                    document.getElementById('originalImage').src = event.target.result;
                    document.getElementById('filteredImage').src = event.target.result;
                };
                img.src = event.target.result;
            };
            reader.readAsDataURL(file);
        });
    </script>
</body>

</html>



<!--

ãƒ»blur(px)
ã‚¬ã‚¦ã‚·ã‚¢ãƒ³ãƒ–ãƒ©ãƒ¼
ã‚¬ã‚¦ã‚¹é–¢æ•°ã«ã‚ˆã£ã¦ã€é‡ã¿ã¥ã‘ã‚’ã—ãŸãƒ”ã‚¯ã‚»ãƒ«ã‚’å‘¨è¾ºã‹ã‚‰ãƒ–ãƒ¬ãƒ³ãƒ‰ã™ã‚‹ã€‚
ç¸¦ã€æ¨ªã®è¨ˆç®—(ã«ã‚ˆã£ã¦ãƒœã‚«ã™åŠ¹æœ)ãŒç‹¬ç«‹ã—ã¦ã„ã‚‹ã€‚
â€»10pxæŒ‡å®šã®å ´åˆã€è¨ˆç®—ã¯10x10ã§ã¯ãªãã€10+10ã§å®Œäº†ã™ã‚‹ã€‚

ãƒ»grayscale
ç™½é»’ã«ã™ã‚‹ â†’ã€€RGBã‚’å¹³å‡åŒ–ã™ã‚‹
(R+G+B)/3 = Grayã€€ğŸ”º
R * 0.299 + G * 0.587 + B * 0.114 = Gray

ãƒ»invert
iR = 1.0 - R
iG = 1.0 - G
iB = 1.0 - B

ãƒ»opacity(transparent)
è¨ˆç®—å¼ï¼šç·šå½¢è£œé–“(Linear Interpolation / Lerp)
ä¸‹åœ°ã®è‰²ï¼šDestination(Dst)
ç”»åƒã®è‰²ï¼šSource(Src)
RGB = Src.RGB * Src.A + Dst.RGB * (1 - Src.A)

RGB -> HSV


-->